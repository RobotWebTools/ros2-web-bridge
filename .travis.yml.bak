services:
  - docker

sudo: required

branches:
  only:
  - develop
  - master

before_install:
  - sudo docker pull ubuntu:xenial
  - sudo docker build -t rcldocker .

script:
  - sudo docker run -v $(pwd):/root/ros2bridge_suite-experiment --rm rcldocker bash -i -c 'cd /root/ros2bridge_suite-experiment && npm install --unsafe-perm && npm run lint'
